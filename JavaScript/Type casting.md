# ✔️타입 변환

타입 변환에 두 가지 종류가 있음

명시적 타입 변환과 암묵적 타입 변환

## 📌명시적 타입 변환

명시적 타입 변환은 개발자가 의도적으로 값의 타입을 변환하는 경우

```JavaScript
let x = 100;
String xStr = x.toString();
```

명시적으로 타입을 변환하는 경우는 보통 두 가지가 있다.

1. 표준 빌트인 생성자 함수를 new 연산자 없이 호출
2. 빌트인 메서드를 사용하는 경우

### 👉문자열 타입으로 변환

1. String 생성자 함수를 new 연산자 없이 호출
2. Object.prototype.toString 메서드를 사용

```javascript
String(1);
String(NaN);
String(Infinity);

(1).toString();
(NaN).toString();
(Infinity).toString();
```

### 👉숫자 타입으로 변환

1. Number 생성자 함수를 new 연산자 없이 호출
2. parseInt, parseFloat 함수를 사용

```javascript
Number('0');
Number('-1');
Number('10.53');

parseInt('0');
parseInt('-1');
parseFloat('10.53');
```

### 👉불리언 타입으로 변환

1. Boolean 생성자 함수를 new 연산자 없이 호출
2. ! 부정 논리 연산자를 두 번 사용

```javascript
Boolean('x')
Boolean('') // -> false
Boolean('false') // -> true(빈 문자열이 아니니)

!!'x';
!!''; // -> false
!!'false' // -> true(빈 문자열이 아니니)
```


## 📌암묵적 타입 변환

개발자의 의도와는 상관 없이 코드의 문맥을 고려해 암묵적으로 데이터 타입을 변환 경우

JavaScript 문법을 잘 아는 사람이라면 암묵적 타입 변환을 사용해서 의도적으로 타입 변환을 하기도 한다.

### 👉피연산자를 문자열 타입으로 변환

```JavaScript
'10' + 2 // -> '102
```

문자열과 숫자 타입을 더하면 JavaScript는 이 연산을 문자열 연결 연산으로 판단한다.

따라서 2를 문자열로 변환하여 '102' 라는 문자열로 연산 결과를 반환한다.

보통 JavaScript에서 모든 데이터 타입과 문자열간의 + 연산은 전부 문자열 간의 덧셈으로 평가되어 하나의 문자열로 계산된다.

```JavaScript
true + ''; // -> 'true'
-1 + ''; // -> '-1'
```

### 👉피연산자를 숫자 타입으로 변환

반대로 숫자와 문자열간의 덧셈을 제외한 산술 연산(-, \**, /)은 문자열을 숫자로 변환하여 연산 결과로 반환한다.

피연산자인 문자열을 숫자로 변환할 수 없는 경우 연산 결과는 NaN이 된다.

```JavaScript
1 - '1'; // -> 0
1 * '10'; // -> 10
1 / 'one' // -> NaN
```

숫자와 문자간의 비교 연산 또한 피연산자를 숫자로 변환하게 된다.

비교연산자의 목적이 크기를 비교하는 것이기 때문이다.

이처럼 JavaScript가 코드의 문맥을 고려해 피연산자의 타입을 바꾸게 된다.

**+ 단항 연산자**를 사용해서 숫자 타입이 아닌 값을 숫자 타입으로 변환할 수 있다.

마찬가지로 숫자 타입으로 변환할 수 없는 경우 평가 결과는 **NaN**이 된다.

### 👉피연산자를 불리언 타입으로 변환

if, for 등의 제어문과 삼항 조건 연산자는 참 or 거짓으로 평가되어야 하는 표현식이다.

따라서 조건식 평가 결과를 불리언 타입으로 암묵적 타입 변환한다.

Truthy 값과 Falsy 값에 따라 true, false로 평가되는데

Falsy값은

- false
- undefined
- null
- 0, -0
- NaN
- ''(빈 문자열)

이렇게다.

해당 Falsy 값들을 제외하고는 모두 true로 평가된다.

#### ❓빈 객체, 빈 배열의 조건식 평가 결과

빈 객체, 빈 배열의 조건식 평가 결과는 true이다.

앞서 말했듯이 Falsy 값을 제외하고는 모두 true로 평가된다.

가끔 헷갈리는 이유는 피연산자가 숫자 타입으로 변환되는 경우 빈 배열, 빈 객체는 0으로 평가되는데

이 때문에 가끔 빈 객체 혹은 빈 배열의 조건식 평가 결과가 false라고 헷갈리기도 한다.

주의하자.

